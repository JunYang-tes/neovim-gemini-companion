![Gemini in Neovim](images/gemini-in-neovim.png)

This project is used to integrate gemini-cli/claude-code into Neovim. It provides an MCP service to enable gemini-cli/claude-code (which run in Neovim's terminal buffer) to interact with Neovim. This allows:

[x] gemini-cli/claude-code to use Neovim as a diff manager
[x] Passing open files as context to gemini-cli
[ ] Passing diagnostic information to claude-code


## Getting started

1. Install [agents-parter.nvim](https://github.com/JunYang-tes/agents-parter.nvim)
2. Install neovim-ide-companion globally using npm/bun

```sh
bun i -g neovim-ide-companion
```


## Diff Manager

When gemini needs to diff, neovim-ide-companion will open two files in your neovim using the diff command. At this point, you can press 'a' to accept all, or 'r' to reject all. You can directly edit the content generated by gemini (usually on the right, named new-xxx). After you have finished editing new-xxx, press 'a' in normal mode to accept all. You can also use `:w` to write to new-xxx, which will automatically accept the changes.
![Diff](images/diff.png)

>`:help diff` for more information.


## Development
0. Complie typescript
```sh
npx tsc --watch
```


1. Start Neovim
```sh
cd ./scripts/
./dev-1-start-neovim.sh
```

2. Start the server
```
cd ./scripts/
./dev-2-start-server.sh

```

3. Start gemini/claude


```sh
cd ./scripts/
./dev-3-start-gemini.sh
```

or

```sh
cd ./scripts/
./dev-3-start-claude.sh
```
